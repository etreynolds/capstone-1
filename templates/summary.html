{% extends 'base.html' %}

{% block content %}

<div class="row justify-content-md-center">
    <div class="col-md-7 col-lg-5 m-4">
        <h2 class="join-message text-center">{{ user.username }}'s Summary</h2>
    </div>
    <div class="container">
        <div class="row justify-content-md-center pt-4 border rounded shadow" id="summary-totals">
            <div class="col-4">
                <p class="fs-5">Total Movies Watched: <span class="fs-2">{{ movie_count }}</span></p>
            </div>
            <div class="col-4">
                <p class="fs-5">Total Watch Time: <span class="fs-2">{{ formatted_watch_time }}</span></p>
            </div>
        </div>



        <br>
        <br>

        <div>
            <hr>
            <table class="table">
                <thead>
                    <tr>
                        <th scope="col">Watched Date</th>
                        <th scope="col">Movie Title</th>
                        <th scope="col">Runtime</th>
                        <th scope="col">Genre</th>
                        <th scope="col">TMDB Score</th>
                        <th scope="col"></th>
                    </tr>
                    {% for entry in entries %}
                    <tr>
                        <td>{{ entry.date }}</td>
                        <td>{{ entry.title }}</td>
                        <td>{{ entry.runtime }} minutes</td>
                        <td>{{ entry.genre }}</td>
                        <td>{{ entry.user_score }}</td>
                        <td>
                            <form action="/summary/{{ entry.id }}/delete" method="POST">
                                <input type="submit" value="Remove" class="btn btn-outline-danger"
                                    onclick="return confirm('Are you sure you want to delete this entry?')">
                            </form>
                        </td>
                    </tr>
                    {% endfor %}
                </thead>
            </table>
        </div>
    </div>

    {% endblock %}